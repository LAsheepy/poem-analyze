import{by as pe,r as I,c as F,q as B,a4 as j,y as H,O as S,P as o,C as P,E as v,W as e,a2 as X,T as _,bz as ee,z as te,$ as me,aX as oe,D as z,u as b,U as Y,S as D,bA as _e,bB as fe,bv as ge,bC as he}from"./vendor-0fc5911b.js";import{E as ve,a as U,b as we,c as be,d as re,e as ye,f as Ee,g as ae,h as Ae,i as Ie,j as Ve,r as ke,n as K,k as Z,u as q,s as Q,l as Pe,m as Ue,o as Ce,p as Le,q as Oe,t as Re,v as Se,w as Te,x as xe}from"./element-plus-21ed9e7d.js";import{a as De,_ as A}from"./supabase-043902eb.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();const se="https://rnvpihtnbtltaulxsunc.supabase.co",ze="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJudnBpaHRuYnRsdGF1bHhzdW5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MTE0OTcsImV4cCI6MjA3NjA4NzQ5N30.URaYNJGKCMz1Lkfnhf7c0f8XR0Ip1t3aYIy41pAo08k",f=De(se,ze,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});se.includes("demo.supabase.co")&&console.warn("⚠️ 使用演示Supabase配置，请配置真实环境变量");const Ne=Object.freeze(Object.defineProperty({__proto__:null,supabase:f},Symbol.toStringTag,{value:"Module"})),G={async getCurrentUser(){const{data:{user:u}}=await f.auth.getUser();if(!u)return null;const{data:n,error:a}=await f.from("profiles").select("*").eq("id",u.id).single();if(a)throw a;return n},async upsertUser(u){const{data:{user:n}}=await f.auth.getUser();if(!n)throw new Error("用户未登录");const{data:a,error:i}=await f.from("profiles").upsert({id:n.id,...u,updated_at:new Date().toISOString()}).select().single();if(i)throw i;return a},async updateLearningProgress(u){const{data:{user:n}}=await f.auth.getUser();if(!n)throw new Error("用户未登录");const{data:a,error:i}=await f.from("profiles").update({learning_progress:u,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(i)throw i;return a}},Me=pe("user",()=>{const u=I(null),n=I(!1),a=I(null),i=F(()=>u.value!==null),l=F(()=>{var t;return((t=u.value)==null?void 0:t.role)==="teacher"}),c=async()=>{n.value=!0,a.value=null;try{const t=await G.getCurrentUser();return u.value=t,t}catch(t){return a.value=t instanceof Error?t.message:"加载用户信息失败",console.error("加载用户信息失败:",t),null}finally{n.value=!1}},g=async t=>{n.value=!0,a.value=null;try{const r=await G.upsertUser(t);return u.value=r,r}catch(r){throw a.value=r instanceof Error?r.message:"保存用户信息失败",console.error("保存用户信息失败:",r),r}finally{n.value=!1}},p=()=>{u.value=null,a.value=null};return{user:u,isLoading:n,error:a,isAuthenticated:i,isTeacher:l,loadUser:c,upsertUser:g,clearUser:p,updateLearningProgress:async t=>{if(u.value)try{await G.updateLearningProgress(t),u.value.learning_progress=t}catch(r){throw a.value=r instanceof Error?r.message:"更新学习进度失败",console.error("更新学习进度失败:",r),r}},setupAuthListener:()=>{f.auth.onAuthStateChange(async(t,r)=>{t==="SIGNED_IN"&&(r!=null&&r.user)?await c():t==="SIGNED_OUT"&&p()})}}});function qe(){const u=Me(),n=F(()=>u.isAuthenticated&&!u.isLoading),a=async()=>{try{u.setupAuthListener();const p=await u.loadUser();return console.log(p?"应用初始化成功，用户已登录":"应用初始化成功，用户未登录"),!0}catch(p){return console.error("应用初始化失败:",p),!1}},i=()=>{u.clearUser()};return{userStore:u,isAppReady:n,initializeApp:a,resetApp:i,login:async(p,y)=>{try{const{data:m,error:t}=await f.auth.signInWithPassword({email:p,password:y});if(t)throw t;return m}catch(m){throw console.error("登录失败:",m),m}},register:async(p,y,m)=>{try{const{data:t,error:r}=await f.auth.signUp({email:p,password:y,options:{data:{username:m}}});if(r)throw r;return t}catch(t){throw console.error("注册失败:",t),t}},logout:async()=>{try{const{error:p}=await f.auth.signOut();if(p)throw p;i()}catch(p){throw console.error("登出失败:",p),p}}}}const Ge={class:"auth-modal-content"},Fe={class:"auth-divider"},Be={class:"social-auth"},$e=B({__name:"AuthModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","auth-success"],setup(u,{emit:n}){const a=u,i=n,l=I(!1),c=I("login"),g=I(!1),p=I(),y=I(),m=j({email:"",password:""}),t=j({username:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}),r={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},C={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(d,s,V)=>{s===""?V(new Error("请确认密码")):s!==t.password?V(new Error("两次输入密码不一致")):V()},trigger:"blur"}]};H(()=>a.modelValue,d=>{l.value=d}),H(l,d=>{i("update:modelValue",d),d||E()});const M=()=>{l.value=!1},E=()=>{m.email="",m.password="",t.username="",t.email="",t.password="",t.confirmPassword="",t.agreeTerms=!1},L=async()=>{if(p.value)try{await p.value.validate(),g.value=!0;const{data:d,error:s}=await f.auth.signInWithPassword({email:m.email,password:m.password});if(s)throw s;d.user&&(U.success("登录成功"),i("auth-success"),l.value=!1)}catch(d){console.error("登录失败:",d),U.error(d.message||"登录失败，请检查邮箱和密码")}finally{g.value=!1}},O=async()=>{if(y.value)try{if(await y.value.validate(),!t.agreeTerms){U.warning("请同意服务条款和隐私政策");return}g.value=!0;const{data:d,error:s}=await f.auth.signUp({email:t.email,password:t.password,options:{data:{username:t.username}}});if(s)throw s;d.user&&(U.success("注册成功！请检查您的邮箱验证账户"),i("auth-success"),l.value=!1)}catch(d){console.error("注册失败:",d),U.error(d.message||"注册失败，请重试")}finally{g.value=!1}},R=async()=>{try{const{error:d}=await f.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(d)throw d}catch(d){console.error("GitHub登录失败:",d),U.error("GitHub登录失败")}},T=async()=>{try{const{error:d}=await f.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(d)throw d}catch(d){console.error("Google登录失败:",d),U.error("Google登录失败")}};return(d,s)=>{const V=we,k=be,x=re,$=ye,ue=Ee,J=ae,W=Ae,ie=Ie,de=Ve,ce=ve;return P(),S(ce,{modelValue:l.value,"onUpdate:modelValue":s[8]||(s[8]=h=>l.value=h),title:"用户认证",width:"400px","before-close":M,"align-center":""},{default:o(()=>[v("div",Ge,[e(de,{modelValue:c.value,"onUpdate:modelValue":s[7]||(s[7]=h=>c.value=h),class:"auth-tabs"},{default:o(()=>[e(W,{label:"登录",name:"login"},{default:o(()=>[e($,{model:m,rules:r,ref_key:"loginFormRef",ref:p,class:"auth-form",onSubmit:X(L,["prevent"])},{default:o(()=>[e(k,{prop:"email"},{default:o(()=>[e(V,{modelValue:m.email,"onUpdate:modelValue":s[0]||(s[0]=h=>m.email=h),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:o(()=>[e(V,{modelValue:m.password,"onUpdate:modelValue":s[1]||(s[1]=h=>m.password=h),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),e(k,null,{default:o(()=>[e(x,{type:"primary",size:"large",loading:g.value,onClick:L,class:"auth-button"},{default:o(()=>[...s[9]||(s[9]=[_(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),v("div",Fe,[e(ue,null,{default:o(()=>[...s[10]||(s[10]=[_("或",-1)])]),_:1})]),v("div",Be,[e(x,{class:"social-button github",onClick:R},{default:o(()=>[e(J,null,{default:o(()=>[...s[11]||(s[11]=[v("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16"},[v("path",{fill:"currentColor",d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0 8.1 0 16.3 1.9 24.1 0 0 0 0 0 0C831.1 885 956.4 718.9 956.4 523.5 956.4 276.4 756.1 76.3 511.6 76.3z"})],-1)])]),_:1}),s[12]||(s[12]=_(" GitHub登录 ",-1))]),_:1}),e(x,{class:"social-button google",onClick:T},{default:o(()=>[e(J,null,{default:o(()=>[...s[13]||(s[13]=[v("svg",{viewBox:"0 0 1024 1024",width:"16",height:"16"},[v("path",{fill:"currentColor",d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1C757.6 109.4 649.4 60 522.2 60 294.1 60 109.4 244.7 109.4 472.8c0 228.1 184.7 412.8 412.8 412.8 228.1 0 412.8-184.7 412.8-412.8 0-11.4-.5-22.7-1.5-34z"})],-1)])]),_:1}),s[14]||(s[14]=_(" Google登录 ",-1))]),_:1})])]),_:1}),e(W,{label:"注册",name:"register"},{default:o(()=>[e($,{model:t,rules:C,ref_key:"registerFormRef",ref:y,class:"auth-form",onSubmit:X(O,["prevent"])},{default:o(()=>[e(k,{prop:"username"},{default:o(()=>[e(V,{modelValue:t.username,"onUpdate:modelValue":s[2]||(s[2]=h=>t.username=h),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),e(k,{prop:"email"},{default:o(()=>[e(V,{modelValue:t.email,"onUpdate:modelValue":s[3]||(s[3]=h=>t.email=h),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:o(()=>[e(V,{modelValue:t.password,"onUpdate:modelValue":s[4]||(s[4]=h=>t.password=h),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),e(k,{prop:"confirmPassword"},{default:o(()=>[e(V,{modelValue:t.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=h=>t.confirmPassword=h),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),e(k,null,{default:o(()=>[e(ie,{modelValue:t.agreeTerms,"onUpdate:modelValue":s[6]||(s[6]=h=>t.agreeTerms=h)},{default:o(()=>[...s[15]||(s[15]=[_(" 我已阅读并同意服务条款和隐私政策 ",-1)])]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:o(()=>[e(x,{type:"primary",size:"large",loading:g.value,disabled:!t.agreeTerms,onClick:O,class:"auth-button"},{default:o(()=>[...s[16]||(s[16]=[_(" 注册 ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])}}});const ne=(u,n)=>{const a=u.__vccOpts||u;for(const[i,l]of n)a[i]=l;return a},Je=ne($e,[["__scopeId","data-v-6e020a66"]]),We={class:"navbar"},je={class:"navbar-container"},He={class:"navbar-brand"},Xe={class:"brand-logo"},Ye={class:"desktop-nav-menu"},Ke={key:0,class:"desktop-user-menu"},Ze={class:"user-dropdown"},Qe={class:"user-name"},et={key:1,class:"auth-buttons"},tt={class:"mobile-menu"},ot=B({__name:"Navbar",setup(u){const n=ee();I("");const a=I(null);te(async()=>{await i(),l()}),me(()=>{const{data:{subscription:t}}=f.auth.onAuthStateChange(()=>{});t==null||t.unsubscribe()});const i=async()=>{try{const{data:{user:t}}=await f.auth.getUser();if(t){const{data:r}=await f.from("profiles").select("*").eq("id",t.id).single();a.value={...t,...r}}else a.value=null}catch(t){console.error("检查认证状态失败:",t),a.value=null}},l=()=>{f.auth.onAuthStateChange(async(t,r)=>{console.log("认证状态变化:",t),t==="SIGNED_IN"&&(r!=null&&r.user)?await i():t==="SIGNED_OUT"&&(a.value=null)})},c=t=>{switch(t){case"profile":n.push("/profile");break;case"settings":n.push("/settings");break;case"logout":m();break}},g=t=>{switch(t){case"home":n.push("/");break;case"poems":n.push("/poems");break;case"ai-chat":n.push("/ai-chat");break;case"profile":n.push("/profile");break;case"settings":n.push("/settings");break;case"login":n.push("/login");break;case"register":n.push("/register");break;case"logout":m();break}},p=()=>{n.push("/login")},y=()=>{n.push("/register")},m=async()=>{try{const{error:t}=await f.auth.signOut();if(t)throw t;a.value=null,U.success("退出登录成功"),n.push("/")}catch(t){console.error("退出登录失败:",t),U.error("退出登录失败")}};return(t,r)=>{const w=ae,C=oe("router-link"),M=Oe,E=Re,L=Se,O=Te,R=re;return P(),z("div",We,[v("div",je,[v("div",He,[e(C,{to:"/",class:"brand-link"},{default:o(()=>[v("div",Xe,[e(w,{size:"24",color:"#409eff"},{default:o(()=>[e(b(ke))]),_:1})]),r[0]||(r[0]=v("span",{class:"brand-text"},"诗词分析平台",-1))]),_:1})]),v("div",Ye,[e(C,{to:"/poems",class:"nav-link"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(K))]),_:1}),r[1]||(r[1]=_(" 诗词库 ",-1))]),_:1}),e(C,{to:"/ai-chat",class:"nav-link"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Z))]),_:1}),r[2]||(r[2]=_(" AI助手 ",-1))]),_:1})]),a.value?(P(),z("div",Ke,[e(O,{onCommand:c},{dropdown:o(()=>[e(L,null,{default:o(()=>[e(E,{command:"profile"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(q))]),_:1}),r[3]||(r[3]=_(" 个人中心 ",-1))]),_:1}),e(E,{divided:"",command:"logout"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Q))]),_:1}),r[4]||(r[4]=_(" 退出登录 ",-1))]),_:1})]),_:1})]),default:o(()=>[v("span",Ze,[e(M,{size:32,src:a.value.avatar_url,class:"user-avatar"},{default:o(()=>{var T;return[_(Y(((T=a.value.username)==null?void 0:T.charAt(0))||"U"),1)]}),_:1},8,["src"]),v("span",Qe,Y(a.value.username||"用户"),1),e(w,null,{default:o(()=>[e(b(Pe))]),_:1})])]),_:1})])):(P(),z("div",et,[e(R,{type:"primary",text:"",onClick:p},{default:o(()=>[...r[5]||(r[5]=[_("登录",-1)])]),_:1}),e(R,{type:"primary",onClick:y},{default:o(()=>[...r[6]||(r[6]=[_("注册",-1)])]),_:1})])),v("div",tt,[e(O,{onCommand:g},{dropdown:o(()=>[e(L,null,{default:o(()=>[e(E,{command:"home"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Ue))]),_:1}),r[7]||(r[7]=_(" 首页 ",-1))]),_:1}),e(E,{command:"poems"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(K))]),_:1}),r[8]||(r[8]=_(" 诗词库 ",-1))]),_:1}),e(E,{command:"ai-chat"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Z))]),_:1}),r[9]||(r[9]=_(" AI助手 ",-1))]),_:1}),a.value?(P(),S(E,{key:0,command:"profile"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(q))]),_:1}),r[10]||(r[10]=_(" 个人中心 ",-1))]),_:1})):D("",!0),a.value?D("",!0):(P(),S(E,{key:1,divided:"",command:"login"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(q))]),_:1}),r[11]||(r[11]=_(" 登录 ",-1))]),_:1})),a.value?D("",!0):(P(),S(E,{key:2,command:"register"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Ce))]),_:1}),r[12]||(r[12]=_(" 注册 ",-1))]),_:1})),a.value?(P(),S(E,{key:3,command:"logout"},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Q))]),_:1}),r[13]||(r[13]=_(" 退出登录 ",-1))]),_:1})):D("",!0)]),_:1})]),default:o(()=>[e(R,{text:""},{default:o(()=>[e(w,null,{default:o(()=>[e(b(Le))]),_:1})]),_:1})]),_:1})])])])}}});const rt=ne(ot,[["__scopeId","data-v-03c393cf"]]),at={id:"app"},st={class:"app-main"},nt=B({__name:"App",setup(u){const n=ee(),a=qe(),i=I(!1),l=()=>{i.value=!1,n.go(0)};return te(async()=>{await a.initializeApp();const c=n.currentRoute.value;["/profile","/chat"].includes(c.path)&&!a.userStore.isAuthenticated&&(i.value=!0)}),(c,g)=>{const p=oe("router-view");return P(),z("div",at,[e(rt),v("main",st,[e(p),e(Je,{modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=y=>i.value=y),onAuthSuccess:l},null,8,["modelValue"])])])}}});const lt=[{path:"/",name:"Dashboard",component:()=>A(()=>import("./Dashboard-266d44da.js"),["assets/Dashboard-266d44da.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/Dashboard-3f8082f8.css"])},{path:"/poems",name:"Poems",component:()=>A(()=>import("./Poems-1488979b.js"),["assets/Poems-1488979b.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/mockData-3b1561c6.js","assets/Poems-e13b4da8.css"])},{path:"/analysis/:id",name:"Analysis",component:()=>A(()=>import("./Analysis-18158262.js"),["assets/Analysis-18158262.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/mockData-3b1561c6.js","assets/Analysis-afb465cd.css"]),props:!0},{path:"/poet-profile",name:"PoetProfile",component:()=>A(()=>import("./PoetProfile-99a36a8c.js"),["assets/PoetProfile-99a36a8c.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/PoetProfile-148952b0.css"])},{path:"/profile",name:"Profile",component:()=>A(()=>import("./Profile-12c47839.js"),["assets/Profile-12c47839.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/mockData-3b1561c6.js","assets/Profile-f15b0f10.css"])},{path:"/login",name:"Login",component:()=>A(()=>import("./Login-b21289cb.js"),["assets/Login-b21289cb.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/Login-b911c56b.css"])},{path:"/register",name:"Register",component:()=>A(()=>import("./Register-5f483107.js"),["assets/Register-5f483107.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/Register-c073e8f0.css"])},{path:"/ai-chat",name:"AIChat",component:()=>A(()=>import("./AIChat-56cd1fee.js"),["assets/AIChat-56cd1fee.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/AIChat-197fdb23.css"])},{path:"/settings",name:"Settings",component:()=>A(()=>import("./Settings-6b487db9.js"),["assets/Settings-6b487db9.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/Settings-cf7181f4.css"])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>A(()=>import("./NotFound-13bb511f.js"),["assets/NotFound-13bb511f.js","assets/element-plus-21ed9e7d.js","assets/vendor-0fc5911b.js","assets/supabase-043902eb.js","assets/element-plus-6788cc8b.css","assets/NotFound-16f288ea.css"])}],le=_e({history:fe(),routes:lt});le.beforeEach(async(u,n,a)=>{try{const{supabase:i}=await A(()=>Promise.resolve().then(()=>Ne),void 0),{data:{user:l}}=await i.auth.getUser();["/profile"].includes(u.path)&&!l?a("/login"):a()}catch(i){console.error("路由守卫错误:",i),a()}});const N=ge(nt),ut=he();N.use(ut);N.use(le);N.use(xe);N.mount("#app");console.log("诗韵星应用启动成功");export{ne as _,f as s,Me as u};
