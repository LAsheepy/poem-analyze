import{d as T,v as z,J as G,x as d,y as J,c as i,e as t,w as n,M as O,g as m,o as u,h as r,N as Q,b as h,a as s,t as a,O as U,P as q,F as g,r as w,Q as F,R as H,S as W,s as X,p as Y,T as Z,m as ss,B as es,G as ts,_ as ns}from"./main-94b2c6d3.js";const as={class:"detailed-analysis"},ls={class:"poem-title"},os={class:"header-actions"},is={class:"poem-text"},us=["onClick"],ds={class:"line-number"},rs={class:"line-text"},cs={class:"analysis-sections"},_s={class:"section-header"},ps={class:"section-content"},vs={class:"word"},ms={class:"pinyin"},hs={class:"meaning"},ys={class:"section-header"},fs={class:"section-content"},gs={class:"examples"},ws={class:"section-header"},ks={class:"section-content"},xs={class:"appreciation-content"},bs={class:"section-header"},Cs={class:"section-content"},As={class:"author-bio"},Ds={class:"bio-text"},Is={class:"section-header"},Ms={class:"section-content"},Ss={class:"historical-context"},Vs={class:"section-header"},Fs={class:"chat-container"},Bs={class:"chat-messages"},Ns={class:"message-content"},js={class:"chat-input"},Es=T({__name:"DetailedAnalysis",setup(Ls){const B=O(),M=z(),x=G(()=>B.params.id),b=d(null),S=d(0),C=d(!1),p=d(""),A=d([]),N=d([{word:"明月",pinyin:"míng yuè",meaning:"明亮的月亮"},{word:"疑是",pinyin:"yí shì",meaning:"怀疑是"},{word:"举头",pinyin:"jǔ tóu",meaning:"抬头"},{word:"思故乡",pinyin:"sī gù xiāng",meaning:"思念故乡"}]),j=d([{type:"自然意象",description:"通过月亮表达思乡之情",examples:["明月","地上霜"]},{type:"动作意象",description:"通过动作展现内心情感",examples:["举头","低头"]}]),D=d({themes:["思乡","孤独","夜晚"],artisticFeatures:"语言简练，意境深远",emotionalExpression:"深沉含蓄的思乡之情"}),y=d({name:"李白",dynasty:"唐代",lifespan:"701年-762年",masterpieces:["静夜思","将进酒","蜀道难"],biography:'唐代著名浪漫主义诗人，被誉为"诗仙"'}),I=d({background:"创作于唐代盛世，诗人漂泊在外时所作",eraCharacteristics:"唐代文化繁荣，诗歌创作达到顶峰",culturalImpact:"成为思乡诗的代表作，影响深远"}),E=()=>{C.value=!C.value},L=()=>{},$=f=>{S.value=f},V=async()=>{if(!p.value.trim())return;const f={id:Date.now().toString(),role:"user",content:p.value,timestamp:new Date};A.value.push(f);try{const e=await M.sendMessage(p.value,x.value),o={id:(Date.now()+1).toString(),role:"assistant",content:e.content,timestamp:new Date};A.value.push(o)}catch(e){console.error("发送消息失败:",e)}p.value=""};return J(()=>{b.value={id:x.value,title:"静夜思",author:"李白",dynasty:"唐代",content:["床前明月光，","疑是地上霜。","举头望明月，","低头思故乡。"],annotations:[],difficulty:"easy",tags:["思乡","月亮"],createdAt:new Date,updatedAt:new Date},M.createConversation(x.value)}),(f,e)=>{const o=m("el-icon"),k=m("el-button"),K=m("el-header"),c=m("el-card"),P=m("el-input"),R=m("el-main");return u(),i("div",as,[t(K,{class:"analysis-header"},{default:n(()=>{var l;return[t(k,{type:"primary",onClick:e[0]||(e[0]=v=>f.$router.go(-1)),class:"back-btn"},{default:n(()=>[t(o,null,{default:n(()=>[t(r(Q))]),_:1}),e[2]||(e[2]=h(" 返回 ",-1))]),_:1}),s("h1",ls,a((l=b.value)==null?void 0:l.title),1),s("div",os,[t(k,{type:"primary",onClick:E},{default:n(()=>[t(o,null,{default:n(()=>[t(r(U))]),_:1}),h(" "+a(C.value?"暂停":"播放"),1)]),_:1}),t(k,{onClick:L},{default:n(()=>[t(o,null,{default:n(()=>[t(r(q))]),_:1}),e[3]||(e[3]=h(" 全屏 ",-1))]),_:1})])]}),_:1}),t(R,{class:"analysis-content"},{default:n(()=>[t(c,{class:"poem-original",shadow:"never"},{default:n(()=>{var l;return[s("div",is,[(u(!0),i(g,null,w((l=b.value)==null?void 0:l.content,(v,_)=>(u(),i("div",{key:_,class:F(["poem-line",{active:S.value===_}]),onClick:$s=>$(_)},[s("span",ds,a(_+1),1),s("span",rs,a(v),1)],10,us))),128))])]}),_:1}),s("div",cs,[t(c,{class:"analysis-section",shadow:"hover"},{header:n(()=>[s("div",_s,[t(o,null,{default:n(()=>[t(r(H))]),_:1}),e[4]||(e[4]=s("span",null,"字词解析",-1))])]),default:n(()=>[s("div",ps,[(u(!0),i(g,null,w(N.value,(l,v)=>(u(),i("div",{key:v,class:"word-item"},[s("span",vs,a(l.word),1),s("span",ms,a(l.pinyin),1),s("span",hs,a(l.meaning),1)]))),128))])]),_:1}),t(c,{class:"analysis-section",shadow:"hover"},{header:n(()=>[s("div",ys,[t(o,null,{default:n(()=>[t(r(W))]),_:1}),e[5]||(e[5]=s("span",null,"意象分析",-1))])]),default:n(()=>[s("div",fs,[(u(!0),i(g,null,w(j.value,(l,v)=>(u(),i("div",{key:v,class:"imagery-item"},[s("h4",null,a(l.type),1),s("p",null,a(l.description),1),s("div",gs,[(u(!0),i(g,null,w(l.examples,_=>(u(),i("span",{key:_,class:"example-tag"},a(_),1))),128))])]))),128))])]),_:1}),t(c,{class:"analysis-section",shadow:"hover"},{header:n(()=>[s("div",ws,[t(o,null,{default:n(()=>[t(r(X))]),_:1}),e[6]||(e[6]=s("span",null,"整体赏析",-1))])]),default:n(()=>[s("div",ks,[s("div",xs,[e[7]||(e[7]=s("h4",null,"主题思想",-1)),s("p",null,a(D.value.themes.join("、")),1),e[8]||(e[8]=s("h4",null,"艺术特色",-1)),s("p",null,a(D.value.artisticFeatures),1),e[9]||(e[9]=s("h4",null,"情感表达",-1)),s("p",null,a(D.value.emotionalExpression),1)])])]),_:1}),t(c,{class:"analysis-section",shadow:"hover"},{header:n(()=>[s("div",bs,[t(o,null,{default:n(()=>[t(r(Y))]),_:1}),e[10]||(e[10]=s("span",null,"作者生平",-1))])]),default:n(()=>[s("div",Cs,[s("div",As,[s("h4",null,a(y.value.name),1),s("p",null,[e[11]||(e[11]=s("strong",null,"朝代：",-1)),h(a(y.value.dynasty),1)]),s("p",null,[e[12]||(e[12]=s("strong",null,"生卒：",-1)),h(a(y.value.lifespan),1)]),s("p",null,[e[13]||(e[13]=s("strong",null,"代表作品：",-1)),h(a(y.value.masterpieces.join("、")),1)]),s("p",Ds,a(y.value.biography),1)])])]),_:1}),t(c,{class:"analysis-section",shadow:"hover"},{header:n(()=>[s("div",Is,[t(o,null,{default:n(()=>[t(r(Z))]),_:1}),e[14]||(e[14]=s("span",null,"历史背景",-1))])]),default:n(()=>[s("div",Ms,[s("div",Ss,[e[15]||(e[15]=s("h4",null,"创作背景",-1)),s("p",null,a(I.value.background),1),e[16]||(e[16]=s("h4",null,"时代特征",-1)),s("p",null,a(I.value.eraCharacteristics),1),e[17]||(e[17]=s("h4",null,"文化影响",-1)),s("p",null,a(I.value.culturalImpact),1)])])]),_:1})]),t(c,{class:"ai-assistant",shadow:"hover"},{header:n(()=>[s("div",Vs,[t(o,null,{default:n(()=>[t(r(ss))]),_:1}),e[18]||(e[18]=s("span",null,"AI诗词导师",-1))])]),default:n(()=>[s("div",Fs,[s("div",Bs,[(u(!0),i(g,null,w(A.value,l=>(u(),i("div",{key:l.id,class:F(["message",{user:l.role==="user",assistant:l.role==="assistant"}])},[s("div",Ns,a(l.content),1)],2))),128))]),s("div",js,[t(P,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),placeholder:"向AI导师提问...",onKeyup:es(V,["enter"])},{append:n(()=>[t(k,{onClick:V},{default:n(()=>[t(o,null,{default:n(()=>[t(r(ts))]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1})])}}});const Ps=ns(Es,[["__scopeId","data-v-2ce390bf"]]);export{Ps as default};
